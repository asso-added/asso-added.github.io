{%    comment %}
        # Get a grouped and sorted array of posts
        #   include-params: unsorted, groupby, sortby
        #   returns: sorted_list array
        # Grouped sort from:
        #   https://gist.github.com/budparr/0ad4a7449f9604f47eec
        #   Jekyll group_by structures have the form
        #   [{ 'name'=>group_by_field, 'items'=>[items_in_group] },...]
  {%  endcomment %}
    
{% comment %}
# %}{%  assign sorted_list = site.empty_array
#  %}{%  assign items_grouped = include.unsorted | group_by: include.groupby | sort: 'date' | reverse
#  %}{%  for group in items_grouped
#  %}{%    assign items = group.items | sort: include.sortby | reverse
#  %}{%    for item in items
#    %}{% if item.lang == page.lang
# %}{%     if item.layout == post
#  %}{%      assign sorted_list = sorted_list | push: item
#    %}{% endif
#    %}{% endif
#  %}{%    endfor
#  %}{%  endfor
#  %}
{% endcomment %}

{%  assign sorted_list = site.empty_array%}
{%  for item in site.posts reversed | where:"lang", page.lang %}
{%  if item.lang == page.lang %}
{%      assign sorted_list = sorted_list | push: item %}
{%  endif %}
{%  endfor %}